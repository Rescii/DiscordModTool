tIdleTransaction(hub, transactionContext, idleTimeout, onScope) {
    var transaction = new idletransaction_1.IdleTransaction(transactionContext, hub, idleTimeout, onScope);
    return sample(hub, transaction, getDefaultSamplingContext(transactionContext));
}
exports.startIdleTransaction = startIdleTransaction;
/**
 * @private
 */
function _addTracingExtensions() {
    var carrier = hub_1.getMainCarrier();
    if (carrier.__SENTRY__) {
        carrier.__SENTRY__.extensions = carrier.__SENTRY__.extensions || {};
        if (!carrier.__SENTRY__.extensions.startTransaction) {
            carrier.__SENTRY__.extensions.startTransaction = _startTransaction;
        }
        if (!carrier.__SENTRY__.extensions.traceHeaders) {
            carrier.__SENTRY__.extensions.traceHeaders = traceHeaders;
        }
    }
}
exports._addTracingExtensions = _addTracingExtensions;
/**
 * This patches the global object and injects the Tracing extensions methods
 */
function addExtensionMethods() {
    _addTracingExtensions();
    // If an error happens globally, we should make sure transaction status is set to error.
    errors_1.registerErrorInstrumentation();
}
exports.addExtensionMethods = addExtensionMethods;
//# sourceMappingURL=hubextensions.js.map{"version":3,"file":"hubextensions.js","sourceRoot":"","sources":["../src/hubextensions.ts"],"names":[],"mappings":";;AAAA,mCAAmE;AACnE,uCAAsH;AACtH,uCAOuB;AAEvB,mCAAwD;AACxD,qDAAoD;AACpD,6CAA4C;AAC5C,iCAA4C;AAE5C,qEAAqE;AACrE,SAAS,YAAY;IACnB,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC9B,IAAI,KAAK,EAAE;QACT,IAAM,IAAI,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;QAC7B,IAAI,IAAI,EAAE;YACR,OAAO;gBACL,cAAc,EAAE,IAAI,CAAC,aAAa,EAAE;aACrC,CAAC;SACH;KACF;IACD,OAAO,EAAE,CAAC;AACZ,CAAC;AAED;;;;;;;;;;;GAWG;AACH,SAAS,MAAM,CAAwB,GAAQ,EAAE,WAAc,EAAE,eAAgC;;IAC/F,IAAM,MAAM,GAAG,GAAG,CAAC,SAAS,EAAE,CAAC;IAC/B,IAAM,OAAO,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,UAAU,EAAE,CAAC,IAAI,EAAE,CAAC;IAEtD,+DAA+D;IAC/D,IAAI,CAAC,MAAM,IAAI,CAAC,yBAAiB,CAAC,OAAO,CAAC,EAAE;QAC1C,WAAW,CAAC,OAAO,GAAG,KAAK,CAAC;QAC5B,OAAO,WAAW,CAAC;KACpB;IAED,qHAAqH;IACrH,IAAI,WAAW,CAAC,OAAO,KAAK,SAAS,EAAE;QACrC,WAAW,CAAC,IAAI,yCAAQ,WAAW,CAAC,IAAI,KAAE,uBAAuB,EAAE,iCAAyB,CAAC,QAAQ,GAAE,CAAC;QACxG,OAAO,WAAW,CAAC;KACpB;IAED,sHAAsH;IACtH,8BAA8B;IAC9B,IAAI,UAAU,CAAC;IACf,IAAI,OAAO,OAAO,CAAC,aAAa,KAAK,UAAU,EAAE;QAC/C,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QACpD,yDAAyD;QACzD,WAAW,CAAC,IAAI,yCACX,WAAW,CAAC,IAAI,KACnB,uBAAuB,EAAE,iCAAyB,CAAC,OAAO;YAC1D,8EAA8E;YAC9E,mBAAmB,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,GAChD,CAAC;KACH;SAAM,IAAI,eAAe,CAAC,aAAa,KAAK,SAAS,EAAE;QACtD,UAAU,GAAG,eAAe,CAAC,aAAa,CAAC;QAC3C,WAAW,CAAC,IAAI,yCAAQ,WAAW,CAAC,IAAI,KAAE,uBAAuB,EAAE,iCAAyB,CAAC,WAAW,GAAE,CAAC;KAC5G;SAAM;QACL,UAAU,GAAG,OAAO,CAAC,gBAAgB,CAAC;QACtC,yDAAyD;QACzD,WAAW,CAAC,IAAI,yCACX,WAAW,CAAC,IAAI,KACnB,uBAAuB,EAAE,iCAAyB,CAAC,IAAI;YACvD,8EAA8E;YAC9E,mBAAmB,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,GAChD,CAAC;KACH;IAED,kHAAkH;IAClH,8DAA8D;IAC9D,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;QAClC,cAAM,CAAC,IAAI,CAAC,kEAAkE,CAAC,CAAC;QAChF,WAAW,CAAC,OAAO,GAAG,KAAK,CAAC;QAC5B,OAAO,WAAW,CAAC;KACpB;IAED,sHAAsH;IACtH,IAAI,CAAC,UAAU,EAAE;QACf,cAAM,CAAC,GAAG,CACR,+CACE,OAAO,OAAO,CAAC,aAAa,KAAK,UAAU;YACzC,CAAC,CAAC,mCAAmC;YACrC,CAAC,CAAC,4EAA4E,CAChF,CACH,CAAC;QACF,WAAW,CAAC,OAAO,GAAG,KAAK,CAAC;QAC5B,OAAO,WAAW,CAAC;KACpB;IAED,qHAAqH